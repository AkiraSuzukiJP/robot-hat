

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>class Serial_Servo - serial servo driver &mdash; robot-hat  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="https://ezblock.cc/readDocFile/topHead.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://ezblock.cc/readDocFile/topHead.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="class Servo - 3-wire pwm servo driver" href="Servo.html" />
    <link rel="prev" title="Quick reference for the Serial Servo" href="serial_servo_Using_documents.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> robot-hat
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ADC.html">class <code class="docutils literal notranslate"><span class="pre">ADC</span></code> - analog to digital converter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../I2C.html">class <code class="docutils literal notranslate"><span class="pre">I2C</span></code> - IIC bus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Music.html">class <code class="docutils literal notranslate"><span class="pre">Music</span></code> - notes and beats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Pin.html">class <code class="docutils literal notranslate"><span class="pre">Pin</span></code> - control I/O pins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PWM.html">class <code class="docutils literal notranslate"><span class="pre">PWM</span></code> - pulse width modulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Serial_sound.html">class <code class="docutils literal notranslate"><span class="pre">Serial_Sound</span></code> - serial sound player</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sound.html">class <code class="docutils literal notranslate"><span class="pre">Sound</span></code> - sound sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TTS.html">class <code class="docutils literal notranslate"><span class="pre">TTS</span></code> - text to speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Modules.html">Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Servo.html">Servo</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="serial_servo_Using_documents.html">Quick reference for the Serial Servo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">class <code class="docutils literal notranslate"><span class="pre">Serial_Servo</span></code> - serial servo driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-servo-parameter-judgement">class Servo - Parameter judgement</a></li>
<li class="toctree-l2"><a class="reference internal" href="Servo.html">class <code class="docutils literal notranslate"><span class="pre">Servo</span></code> - 3-wire pwm servo driver</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">robot-hat</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../Servo.html">Servo</a> &raquo;</li>
        
      <li>class <code class="docutils literal notranslate"><span class="pre">Serial_Servo</span></code> - serial servo driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pythonApi/Servo/Serial_servo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="class-serial-servo-serial-servo-driver">
<h1>class <code class="docutils literal notranslate"><span class="pre">Serial_Servo</span></code> - serial servo driver<a class="headerlink" href="#class-serial-servo-serial-servo-driver" title="Permalink to this headline">¶</a></h1>
<p>Usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">robot_hat</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="n">ss</span> <span class="o">=</span> <span class="n">Serial_Servo</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>             <span class="c1"># create an servo object from serial port and defaults to &quot;/dev/ttyS0&quot;</span>
<span class="n">ss</span><span class="o">.</span><span class="n">write_angle</span><span class="p">(</span><span class="mh">0XFE</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>       <span class="c1"># set the servo angle and running time</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ss</span><span class="o">.</span><span class="n">write_angle</span><span class="p">(</span><span class="mh">0XFE</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
<section id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">robot_hat.Serial_Servo()</span></code> Create an Servo object associated with
serial port. This allows you to set the angle values.</p>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>init - init the uart.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>  <span class="c1">#defaults to &quot;/dev/ttyS0&quot;</span>
</pre></div>
</div>
</li>
<li><p>print_hex_list - output hex list</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">print_hex_list</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>to_hex_list - convert hex list</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">to_hex_list</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>flat_list - Decomposition of multiple lists</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">flat_list</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>write</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">cmd_type</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[])</span>
</pre></div>
</div>
</li>
<li><p>read</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>ping</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>read_data</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">read_data</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>write_data</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">write_data</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>reg_write</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">reg_write</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>action</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">action</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>sync_write</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">sync_write</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="p">[],</span> <span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>reset</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>write_id - set id</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">write_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>convert_angle_time</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">convert_angle_time</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">time_run</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>write_angle</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">write_angle</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">time_run</span><span class="p">)</span>    <span class="c1">#angle rangle is 0-270</span>
</pre></div>
</div>
</li>
<li><p>write_all_angle - Write several angles to several ID</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">write_all_angle</span><span class="p">(</span><span class="o">*</span><span class="n">servos</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>set_mode</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">set_mode</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>   <span class="c1">#0X00 is motor mode 0X01 is servo mode</span>
</pre></div>
</div>
</li>
<li><p>set_motor_dir</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">set_motor_dir</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span> <span class="c1">#0X00 is counterclockwise 0X01 is clockwise</span>
</pre></div>
</div>
</li>
<li><p>set_motor_speed</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">set_motor_dir</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>  <span class="c1">#speed rangle is 0-100</span>
</pre></div>
</div>
</li>
<li><p>run - Write several angles to several ID</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Serial_Servo</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">*</span><span class="n">servos</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="class-servo-parameter-judgement">
<h1>class Servo - Parameter judgement<a class="headerlink" href="#class-servo-parameter-judgement" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2>Methods<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>id</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Servo</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>angle</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Servo</span><span class="o">.</span><span class="n">angle</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>time</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Servo</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>mode</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Servo</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>speed</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Servo</span><span class="o">.</span><span class="n">speed</span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="const">
<h2>Const<a class="headerlink" href="#const" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DATA_HEAD</span> <span class="o">=</span> <span class="p">[</span><span class="mh">0xFF</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">]</span>
<span class="n">RECEIVE_HEAD</span> <span class="o">=</span> <span class="p">[</span><span class="mh">0xFF</span><span class="p">,</span> <span class="mh">0xF5</span><span class="p">]</span>

<span class="n">PING</span> <span class="o">=</span> <span class="mh">0x01</span>  <span class="c1"># Query steering gear/Quick query steering gear status</span>
<span class="n">READ_DATA</span> <span class="o">=</span> <span class="mh">0x02</span>  <span class="c1"># Query the data of the specified address</span>
<span class="n">WRITE_DATA</span> <span class="o">=</span> <span class="mh">0x03</span>  <span class="c1"># Write data to the specified address</span>
<span class="n">REG_WRITE</span> <span class="o">=</span> <span class="mh">0x04</span>  <span class="c1"># (Asynchronous writing) Pre-write data to the specified address, and execute it after receiving the ACTION command. It is mainly used to control multiple servos to enable the servos to start at the same time</span>
<span class="n">ACTION</span> <span class="o">=</span> <span class="mh">0x05</span>  <span class="c1"># (Execute asynchronous write) Trigger execution of REG WRITE instruction</span>
<span class="n">RESET</span> <span class="o">=</span> <span class="mh">0x06</span>  <span class="c1"># Restore the register to the factory setting value</span>
<span class="n">SYNC_WRITE</span> <span class="o">=</span> <span class="mh">0x83</span>  <span class="c1">#(Synchronous Write)</span>

<span class="n">VERSION</span> <span class="o">=</span> <span class="mh">0x03</span>  <span class="c1"># 2 byte Record the servo software version information, the format is vA.B such as v1.28 =0x011C</span>
<span class="n">SERVO_ID</span> <span class="o">=</span> <span class="mh">0x05</span>  <span class="c1"># Servo ID number, valid range: 1~250 Note: 254 is the broadcast ID Uint8 default: 1</span>
<span class="n">PROTECT_TIME</span> <span class="o">=</span> <span class="mh">0x06</span>  <span class="c1"># Unit: /S The servo is blocked for a period of time to protect Uint8 default: 3</span>
<span class="n">MIN_ANGLE</span> <span class="o">=</span> <span class="mh">0x09</span>  <span class="c1"># 2 byte Minimum angle limit Uint16 default: 0</span>
<span class="n">MAX_ANGLE</span> <span class="o">=</span> <span class="mh">0x0B</span>  <span class="c1"># 2 byte Maximum angle limit Uint16 default: 4095</span>
<span class="n">MAX_TORQUE</span> <span class="o">=</span> <span class="mh">0x10</span>  <span class="c1"># 2 byte Maximum torque Uint16 default: 800</span>
<span class="n">SPEED</span> <span class="o">=</span> <span class="mh">0x12</span>  <span class="c1"># Speed ​​adjustment Uint8 default: 30</span>
<span class="n">UNLOAD</span> <span class="o">=</span> <span class="mh">0x13</span>  <span class="c1"># Uninstall condition Uint8 default: 0</span>
<span class="n">MID_POS</span> <span class="o">=</span> <span class="mh">0x14</span>  <span class="c1"># 2 byte position adjustment offset, positive number is adjusted to 4095 direction, negative number is adjusted to 0 direction Int16 default: 0</span>
<span class="n">SET_POS_1</span> <span class="o">=</span> <span class="mh">0x16</span>  <span class="c1"># Set target location one</span>
<span class="n">SET_POS_2</span> <span class="o">=</span> <span class="mh">0x18</span>
<span class="n">SET_POS_3</span> <span class="o">=</span> <span class="mh">0x1A</span>
<span class="n">MODE</span> <span class="o">=</span> <span class="mh">0x3F</span> <span class="c1"># Servo/motor mode</span>
<span class="n">MOTOR_DIR</span> <span class="o">=</span> <span class="mh">0x40</span> <span class="c1"># Motor mode direction</span>
<span class="n">TORQUE_SWITCH</span> <span class="o">=</span> <span class="mh">0x28</span> <span class="c1"># Torque switch 0: Torque off Non 0: Torque on</span>
<span class="n">TARGET_POS</span> <span class="o">=</span> <span class="mh">0x2A</span> <span class="c1"># target location</span>
<span class="n">TIME_RUN</span> <span class="o">=</span> <span class="mh">0x2C</span> <span class="c1"># 2 byte running time</span>
<span class="n">CURRENT</span> <span class="o">=</span> <span class="mh">0x2E</span> <span class="c1"># 2 byte current current</span>
<span class="n">LOCK</span> <span class="o">=</span> <span class="mh">0x30</span> <span class="c1"># Lock sign (emergency stop)</span>
<span class="n">CURRENT_POS</span> <span class="o">=</span> <span class="mh">0x38</span> <span class="c1"># current position</span>
<span class="n">SPEED_RUN</span> <span class="o">=</span> <span class="mh">0x3A</span> <span class="c1"># Running speed</span>
<span class="n">RUN_POS_1</span> <span class="o">=</span> <span class="mh">0x3C</span> <span class="c1"># Run target location one</span>
<span class="n">RUN_POS_2</span> <span class="o">=</span> <span class="mh">0x3D</span> <span class="c1"># Run target position two</span>
<span class="n">RUN_POS_3</span> <span class="o">=</span> <span class="mh">0x3E</span> <span class="c1"># Run target position three</span>
<span class="n">SPEED_ADJ</span> <span class="o">=</span> <span class="mh">0x41</span> <span class="c1"># 2 byte speed adjustment</span>

<span class="n">BROADCAST_ID</span> <span class="o">=</span> <span class="mh">0xFE</span>
<span class="n">MOTOR</span> <span class="o">=</span> <span class="mh">0x00</span>
<span class="n">SERVO</span> <span class="o">=</span> <span class="mh">0x01</span>
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Servo.html" class="btn btn-neutral float-right" title="class Servo - 3-wire pwm servo driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="serial_servo_Using_documents.html" class="btn btn-neutral float-left" title="Quick reference for the Serial Servo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, sunfounder

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>